{"version":3,"sources":["js/bundle.js"],"names":["nextGen","ready","callback","document","attachEvent","readyState","addEventListener","createClassList","el","className","classes","split","existingIndex","indexOf","splice","push","join","toggleMenu","toggleButton","querySelector","navigation","e","classList","toggle","preventDefault","toggleModal","this","checked","body","add","remove","replace","RegExp","buildGrid","items","Array","from","querySelectorAll","length","i","totalRows","Math","floor","shiftOddRowsBy","shiftEvenRowsBy","slice","forEach","item","style","gridRow","buildLandingPage","bottomLineBreak","display"],"mappings":"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","file":"bundle.js","sourcesContent":["var nextGen = nextGen || {};\n\nnextGen.ready = function(callback) {\n  if (document.attachEvent ? document.readyState === 'complete' : document.readyState !== 'loading'){\n    callback();\n  } else {\n    document.addEventListener('DOMContentLoaded', callback);\n  }\n};\n\nnextGen.createClassList = function(el, className) {\n  var classes = el.className.split(' ');\n  var existingIndex = classes.indexOf(className);\n\n  if (existingIndex >= 0)\n    classes.splice(existingIndex, 1);\n  else\n    classes.push(className);\n\n  return classes.join(' ');\n}\n\nnextGen.toggleMenu = function() {\n  var toggleButton = document.querySelector('.nav__button');\n  var navigation = document.querySelector('.nav__nav-bar');\n  if (toggleButton) {\n    toggleButton.addEventListener('click', function(e) {\n      if (toggleButton.classList) {\n        toggleButton.classList.toggle('nav__button--active')\n      } else {\n        toggleButton.className = nextGen.createClassList(toggleButton, 'nav__button--active');\n      }\n\n      if (navigation.classList) {\n        navigation.classList.toggle('nav__nav-bar--active')\n      } else {\n        navigation.className = nextGen.createClassList(navigation, 'nav__nav-bar--active');\n      }\n      e.preventDefault();\n    });\n  }\n}\n\nnextGen.toggleModal = function() {\n  var toggleState = document.querySelector('.contact-form__state');\n  toggleState.addEventListener('change', function() {\n    if (this.checked) {\n      if (document.body.classList) {\n        document.body.classList.add('body--modal-open');\n      } else {\n        document.body.className += ' ' + 'body--modal-open';\n      }\n    } else {\n      debugger;\n      if (document.body.classList) {\n        document.body.classList.remove('body--modal-open');\n      } else {\n        document.body.className = document.body.className.replace(new RegExp('(^|\\\\b)' + 'body--modal-open'.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n      }\n    }\n  });\n}\n\nnextGen.buildGrid = function() {  \n  var items = Array.from(document.querySelectorAll('.city-picker__item'));\n  if (items.length === 0) {\n    return;\n  }\n  var totalRows = Math.floor(items.length / 2.5);\n  var i;\n\n  for (i = 0; i <= totalRows; i++) {\n    var shiftOddRowsBy;\n    var  shiftEvenRowsBy;\n\n    if (i === 0) {\n      shiftOddRowsBy = 1;\n      shiftEvenRowsBy = 2;\n    } else if (i % 2 === 1) {\n      shiftOddRowsBy = i + 2;\n      shiftEvenRowsBy = i + 3;\n    } else {\n      shiftOddRowsBy = i + 3;\n      shiftEvenRowsBy = i + 4;\n    }\n\n    // Arrange first three of every five into odd rows\n    items.slice(5 * i, 5 * i + 3)\n      .forEach(function(item) {\n        item.style.gridRow = shiftOddRowsBy + ' / span 2';\n      });\n\n    // Arrange last two of five into even rows\n    items.slice(5 * i + 3, 5 * i + 5)\n      .forEach(function(item) {\n        item.style.gridRow = shiftEvenRowsBy + ' / span 2';\n      });\n  }\n};\n\nnextGen.buildLandingPage = function() {\n  // Round up all the items excluding the big diamond\n  var items = Array.from(document.querySelectorAll('.landing__item:not(:first-of-type)'));\n  if (items.length === 0) {\n    return;\n  }\n  var bottomLineBreak = document.querySelector('.landing__line-break-wrapper--bottom');\n  var totalRows = Math.floor(items.length / 3);\n  var i;\n\n  for (i = 0; i < totalRows; i++) {\n    var shiftOddRowsBy = 4;\n    var shiftEvenRowsBy = 5;\n    shiftOddRowsBy = shiftOddRowsBy + (i * 2);\n    shiftEvenRowsBy = shiftEvenRowsBy + (i * 2);\n\n    // Arrange first two of every three into odd rows\n    items.slice(3 * i, 3 * i + 2)\n      .forEach(function(item) {\n        item.style.gridRow = shiftOddRowsBy + '/ span 2';\n      });\n\n    // Arrange the third of every three into even rows;\n    items.slice(3 * i + 2, 3 * i + 3)\n      .forEach(function(item) {\n        item.style.gridRow = shiftEvenRowsBy + ' / span 2';\n      });\n  }\n\n  if (items.length % 3 === 0) {\n    bottomLineBreak.style.display = 'none';\n  } else {\n    bottomLineBreak.style.gridRow = totalRows + 3 + '/ -1';\n  }\n};\n\nnextGen.ready(function() {\n  nextGen.buildLandingPage();\n  nextGen.buildGrid();\n  nextGen.toggleMenu();\n  nextGen.toggleModal();\n});"]}