{"version":3,"sources":["js/bundle.js"],"names":["nextGen","ready","callback","document","attachEvent","readyState","addEventListener","createClassList","el","className","classes","split","existingIndex","indexOf","splice","push","join","toggleMenu","toggleButton","querySelector","navigation","e","classList","toggle","preventDefault","toggleModal","modals","querySelectorAll","Array","prototype","forEach","call","modal","stopPropagation","this","checked","body","add","remove","replace","RegExp","fadeScreen","toggleStates","fadeScreens","buildGrid","items","from","length","i","totalRows","Math","floor","shiftOddRowsBy","shiftEvenRowsBy","slice","item","style","gridRow","buildLandingPage","bottomLineBreak","display"],"mappings":"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","file":"bundle.js","sourcesContent":["var nextGen = nextGen || {};\n\nnextGen.ready = function(callback) {\n  if (document.attachEvent ? document.readyState === 'complete' : document.readyState !== 'loading'){\n    callback();\n  } else {\n    document.addEventListener('DOMContentLoaded', callback);\n  }\n};\n\nnextGen.createClassList = function(el, className) {\n  var classes = el.className.split(' ');\n  var existingIndex = classes.indexOf(className);\n\n  if (existingIndex >= 0)\n    classes.splice(existingIndex, 1);\n  else\n    classes.push(className);\n\n  return classes.join(' ');\n}\n\nnextGen.toggleMenu = function() {\n  var toggleButton = document.querySelector('.nav__button');\n  var navigation = document.querySelector('.nav__nav-bar');\n  if (toggleButton) {\n    toggleButton.addEventListener('click', function(e) {\n      if (toggleButton.classList) {\n        toggleButton.classList.toggle('nav__button--active')\n      } else {\n        toggleButton.className = nextGen.createClassList(toggleButton, 'nav__button--active');\n      }\n\n      if (navigation.classList) {\n        navigation.classList.toggle('nav__nav-bar--active')\n      } else {\n        navigation.className = nextGen.createClassList(navigation, 'nav__nav-bar--active');\n      }\n      e.preventDefault();\n    });\n  }\n}\n\nnextGen.toggleModal = function() {\n  var modals = document.querySelectorAll('.contact-form');\n  Array.prototype.forEach.call(modals, function(modal) {\n    modal.addEventListener('click', function(e) {\n      e.stopPropagation();\n    })\n  })\n\n  var toggleState = document.querySelector('.contact-form__state');\n  toggleState.addEventListener('change', function() {\n    if (this.checked) {\n      if (document.body.classList) {\n        document.body.classList.add('body--modal-open');\n      } else {\n        document.body.className += ' ' + 'body--modal-open';\n      }\n    } else {\n      if (document.body.classList) {\n        document.body.classList.remove('body--modal-open');\n      } else {\n        document.body.className = document.body.className.replace(new RegExp('(^|\\\\b)' + 'body--modal-open'.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n      }\n    }\n  });\n}\n\nnextGen.fadeScreen = function() {\n  var toggleStates = document.querySelectorAll('.contact-form__state');\n  var fadeScreens = document.querySelectorAll('.contact-form__fade-screen');\n  Array.prototype.forEach.call(fadeScreens, function(fadeScreen) {\n    fadeScreen.addEventListener('click', function() {\n      Array.prototype.forEach.call(toggleStates, function(toggle) {\n        toggle.checked = false;\n      });\n\n\n      if (document.body.classList) {\n        document.body.classList.remove('body--modal-open');\n      } else {\n        document.body.className = document.body.className.replace(new RegExp('(^|\\\\b)' + 'body--modal-open'.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n      }\n    });\n  });\n}\n\nnextGen.buildGrid = function() {  \n  var items = Array.from(document.querySelectorAll('.city-picker__item'));\n  if (items.length === 0) {\n    return;\n  }\n  var totalRows = Math.floor(items.length / 2.5);\n  var i;\n\n  for (i = 0; i <= totalRows; i++) {\n    var shiftOddRowsBy;\n    var  shiftEvenRowsBy;\n\n    if (i === 0) {\n      shiftOddRowsBy = 1;\n      shiftEvenRowsBy = 2;\n    } else if (i % 2 === 1) {\n      shiftOddRowsBy = i + 2;\n      shiftEvenRowsBy = i + 3;\n    } else {\n      shiftOddRowsBy = i + 3;\n      shiftEvenRowsBy = i + 4;\n    }\n\n    // Arrange first three of every five into odd rows\n    items.slice(5 * i, 5 * i + 3)\n      .forEach(function(item) {\n        item.style.gridRow = shiftOddRowsBy + ' / span 2';\n      });\n\n    // Arrange last two of five into even rows\n    items.slice(5 * i + 3, 5 * i + 5)\n      .forEach(function(item) {\n        item.style.gridRow = shiftEvenRowsBy + ' / span 2';\n      });\n  }\n};\n\nnextGen.buildLandingPage = function() {\n  // Round up all the items excluding the big diamond\n  var items = Array.from(document.querySelectorAll('.landing__item:not(:first-of-type)'));\n  if (items.length === 0) {\n    return;\n  }\n  var bottomLineBreak = document.querySelector('.landing__line-break-wrapper--bottom');\n  var totalRows = Math.floor(items.length / 1.5) || 1;\n  var i;\n\n  for (i = 0; i < totalRows; i++) {\n    var shiftOddRowsBy = 4;\n    var shiftEvenRowsBy = 5;\n    shiftOddRowsBy = shiftOddRowsBy + (i * 2);\n    shiftEvenRowsBy = shiftEvenRowsBy + (i * 2);\n\n    // Arrange first two of every three into odd rows\n    items.slice(3 * i, 3 * i + 2)\n      .forEach(function(item) {\n        item.style.gridRow = shiftOddRowsBy + '/ span 2';\n      });\n\n    // Arrange the third of every three into even rows;\n    items.slice(3 * i + 2, 3 * i + 3)\n      .forEach(function(item) {\n        item.style.gridRow = shiftEvenRowsBy + ' / span 2';\n      });\n  }\n\n  if (items.length % 3 === 0) {\n    bottomLineBreak.style.display = 'none';\n  } else {\n    bottomLineBreak.style.gridRow = totalRows + 3 + '/ -1';\n  }\n};\n\nnextGen.ready(function() {\n  nextGen.fadeScreen();\n  nextGen.buildLandingPage();\n  nextGen.buildGrid();\n  nextGen.toggleMenu();\n  nextGen.toggleModal();\n});"]}